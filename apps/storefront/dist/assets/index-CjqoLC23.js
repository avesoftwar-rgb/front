var J=Object.defineProperty;var Y=(s,t,r)=>t in s?J(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var _=(s,t,r)=>Y(s,typeof t!="symbol"?t+"":t,r);import{r as g,b as G,a as L}from"./react-vendor-CBH9K-97.js";import{L as S,u as H,a as Q,R as K,b as C,B as V}from"./router-D8xOW9Hi.js";import{c as X}from"./state-CJScMKLL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();var B={exports:{}},$={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=g,ee=Symbol.for("react.element"),se=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,re=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ae={key:!0,ref:!0,__self:!0,__source:!0};function U(s,t,r){var i,a={},n=null,d=null;r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(d=t.ref);for(i in t)te.call(t,i)&&!ae.hasOwnProperty(i)&&(a[i]=t[i]);if(s&&s.defaultProps)for(i in t=s.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:ee,type:s,key:n,ref:d,props:a,_owner:re.current}}$.Fragment=se;$.jsx=U;$.jsxs=U;B.exports=$;var e=B.exports,R={},F=G;R.createRoot=F.createRoot,R.hydrateRoot=F.hydrateRoot;const P="https://shopmart-api.onrender.com";async function A(){try{const s=await fetch(`${P}/products`);if(!s.ok)throw new Error("Failed to fetch products");const t=await s.json();return(t.products||t).map(i=>({id:i._id||i.id,title:i.name||i.title,price:i.price,image:i.image||i.imageUrl||"/placeholder.jpg",tags:i.tags||(i.category?[i.category]:[]),stockQty:i.stock||i.stockQty||0,description:i.description}))}catch(s){return console.error("Failed to fetch products:",s),await(await fetch("/mock-catalog.json")).json()}}async function ne(s){try{const t=await fetch(`${P}/products/${s}`);if(!t.ok)return null;const r=await t.json();return{id:r._id||r.id,title:r.name||r.title,price:r.price,image:r.image||r.imageUrl||"/placeholder.jpg",tags:r.tags||(r.category?[r.category]:[]),stockQty:r.stock||r.stockQty||0,description:r.description}}catch(t){return console.error("Failed to fetch product:",t),null}}async function ie(s){try{const t=await fetch(`${P}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok)throw new Error("Failed to place order");const r=await t.json();return{orderId:r._id||r.id||r.orderId}}catch(t){throw console.error("Failed to place order:",t),t}}async function oe(s){try{const t=await fetch(`${P}/orders/${s}`);if(!t.ok)return null;const r=await t.json();return{orderId:r._id||r.id,status:r.status,carrier:r.carrier,eta:r.estimatedDelivery}}catch(t){return console.error("Failed to fetch order status:",t),null}}const le={lookupCustomer:async s=>{try{const t=await fetch(`${P}/customers?email=${encodeURIComponent(s)}`);if(!t.ok)throw new Error("Customer not found");return await t.json()}catch(t){throw console.error("Failed to lookup customer:",t),t}},getCustomerOrders:async s=>{try{const t=await fetch(`${P}/orders?customerId=${s}`);if(!t.ok)throw new Error("Failed to fetch orders");return await t.json()}catch(t){return console.error("Failed to fetch customer orders:",t),[]}},getDashboardMetrics:async()=>{try{const s=await fetch(`${P}/dashboard/business-metrics`);if(!s.ok)throw new Error("Failed to fetch metrics");return await s.json()}catch(s){return console.error("Failed to fetch dashboard metrics:",s),null}}},ce={};function de(s,t){let r;try{r=s()}catch{return}return{getItem:a=>{var n;const d=l=>l===null?null:JSON.parse(l,void 0),p=(n=r.getItem(a))!=null?n:null;return p instanceof Promise?p.then(d):d(p)},setItem:(a,n)=>r.setItem(a,JSON.stringify(n,void 0)),removeItem:a=>r.removeItem(a)}}const O=s=>t=>{try{const r=s(t);return r instanceof Promise?r:{then(i){return O(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return O(i)(r)}}}},me=(s,t)=>(r,i,a)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:c=>c,version:0,merge:(c,x)=>({...x,...c}),...t},d=!1;const p=new Set,l=new Set;let u;try{u=n.getStorage()}catch{}if(!u)return s((...c)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...c)},i,a);const h=O(n.serialize),y=()=>{const c=n.partialize({...i()});let x;const o=h({state:c,version:n.version}).then(f=>u.setItem(n.name,f)).catch(f=>{x=f});if(x)throw x;return o},b=a.setState;a.setState=(c,x)=>{b(c,x),y()};const j=s((...c)=>{r(...c),y()},i,a);let v;const m=()=>{var c;if(!u)return;d=!1,p.forEach(o=>o(i()));const x=((c=n.onRehydrateStorage)==null?void 0:c.call(n,i()))||void 0;return O(u.getItem.bind(u))(n.name).then(o=>{if(o)return n.deserialize(o)}).then(o=>{if(o)if(typeof o.version=="number"&&o.version!==n.version){if(n.migrate)return n.migrate(o.state,o.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return o.state}).then(o=>{var f;return v=n.merge(o,(f=i())!=null?f:j),r(v,!0),y()}).then(()=>{x==null||x(v,void 0),d=!0,l.forEach(o=>o(v))}).catch(o=>{x==null||x(void 0,o)})};return a.persist={setOptions:c=>{n={...n,...c},c.getStorage&&(u=c.getStorage())},clearStorage:()=>{u==null||u.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>m(),hasHydrated:()=>d,onHydrate:c=>(p.add(c),()=>{p.delete(c)}),onFinishHydration:c=>(l.add(c),()=>{l.delete(c)})},m(),v||j},xe=(s,t)=>(r,i,a)=>{let n={storage:de(()=>localStorage),partialize:m=>m,version:0,merge:(m,c)=>({...c,...m}),...t},d=!1;const p=new Set,l=new Set;let u=n.storage;if(!u)return s((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),r(...m)},i,a);const h=()=>{const m=n.partialize({...i()});return u.setItem(n.name,{state:m,version:n.version})},y=a.setState;a.setState=(m,c)=>{y(m,c),h()};const b=s((...m)=>{r(...m),h()},i,a);a.getInitialState=()=>b;let j;const v=()=>{var m,c;if(!u)return;d=!1,p.forEach(o=>{var f;return o((f=i())!=null?f:b)});const x=((c=n.onRehydrateStorage)==null?void 0:c.call(n,(m=i())!=null?m:b))||void 0;return O(u.getItem.bind(u))(n.name).then(o=>{if(o)if(typeof o.version=="number"&&o.version!==n.version){if(n.migrate)return[!0,n.migrate(o.state,o.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,o.state];return[!1,void 0]}).then(o=>{var f;const[N,E]=o;if(j=n.merge(E,(f=i())!=null?f:b),r(j,!0),N)return h()}).then(()=>{x==null||x(j,void 0),j=i(),d=!0,l.forEach(o=>o(j))}).catch(o=>{x==null||x(void 0,o)})};return a.persist={setOptions:m=>{n={...n,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>v(),hasHydrated:()=>d,onHydrate:m=>(p.add(m),()=>{p.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},n.skipHydration||v(),j||b},ue=(s,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ce?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),me(s,t)):xe(s,t),he=ue,D=X()(he((s,t)=>({items:[],add:(r,i=1)=>{s(a=>a.items.find(d=>d.id===r.id)?{items:a.items.map(d=>d.id===r.id?{...d,qty:d.qty+i}:d)}:{items:[...a.items,{id:r.id,qty:i,product:r}]})},remove:r=>{s(i=>({items:i.items.filter(a=>a.id!==r)}))},setQty:(r,i)=>{if(i<=0){t().remove(r);return}s(a=>({items:a.items.map(n=>n.id===r?{...n,qty:i}:n)}))},clear:()=>{s({items:[]})},getTotal:()=>t().items.reduce((r,i)=>r+i.qty*i.product.price,0),getItemCount:()=>t().items.reduce((r,i)=>r+i.qty,0)}),{name:"storefront-cart"}));function k(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)}function pe({src:s,alt:t,className:r="",placeholder:i}){const[a,n]=g.useState(!1),[d,p]=g.useState(!1),l=g.useRef(null);g.useEffect(()=>{const h=new IntersectionObserver(([y])=>{y.isIntersecting&&(p(!0),h.disconnect())},{threshold:.1});return l.current&&h.observe(l.current),()=>h.disconnect()},[]);const u=()=>{n(!0)};return e.jsxs("div",{ref:l,className:`relative overflow-hidden ${r}`,children:[!a&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:i||e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),d&&e.jsx("img",{src:s,alt:t,className:`w-full h-full object-cover transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onLoad:u,loading:"lazy"})]})}function z({product:s,onAddToCart:t}){const r=s.stockQty===0;return e.jsxs("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[e.jsx(S,{to:`/p/${s.id}`,className:"block",children:e.jsx("div",{className:"aspect-square rounded-lg mb-4 overflow-hidden",children:e.jsx(pe,{src:s.image,alt:s.title,className:"w-full h-full"})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(S,{to:`/p/${s.id}`,className:"block",children:e.jsx("h3",{className:"font-semibold text-gray-900 hover:text-primary-600 transition-colors line-clamp-2",children:s.title})}),e.jsx("p",{className:"text-lg font-bold text-primary-600 mt-1",children:k(s.price)})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.slice(0,3).map(i=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:i},i))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-red-500":"bg-green-500"}`}),e.jsx("span",{className:`text-sm ${r?"text-red-600":"text-green-600"}`,children:r?"Out of stock":`${s.stockQty} in stock`})]}),e.jsx("button",{onClick:t,disabled:r,className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${r?"bg-gray-100 text-gray-400 cursor-not-allowed":"btn-primary"}`,children:r?"Unavailable":"Add to Cart"})]})]})]})}function ge({value:s,onChange:t,placeholder:r="Search...",className:i=""}){return e.jsxs("div",{className:i,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:s,onChange:a=>t(a.target.value),placeholder:r,className:"input-field pl-10"})]})]})}function fe({tags:s,selectedTag:t,onTagChange:r,className:i=""}){return e.jsxs("div",{className:i,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),e.jsxs("select",{value:t,onChange:a=>r(a.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Categories"}),s.filter(a=>a&&typeof a=="string").map(a=>e.jsx("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]})]})}function ye(){const[s,t]=g.useState([]),[r,i]=g.useState([]),[a,n]=g.useState(!0),[d,p]=g.useState(""),[l,u]=g.useState(""),[h,y]=g.useState("name"),b=D(c=>c.add);g.useEffect(()=>{j()},[]),g.useEffect(()=>{v()},[s,d,l,h]);const j=async()=>{try{const c=await A();t(c)}catch(c){console.error("Failed to load products:",c)}finally{n(!1)}},v=()=>{let c=s;if(d){const x=d.toLowerCase();c=c.filter(o=>o.title.toLowerCase().includes(x)||o.tags&&o.tags.some(f=>f&&f.toLowerCase().includes(x)))}l&&(c=c.filter(x=>x.tags&&x.tags.includes(l))),c=[...c].sort((x,o)=>{switch(h){case"price-asc":return x.price-o.price;case"price-desc":return o.price-x.price;case"name":default:return x.title.localeCompare(o.title)}}),i(c)},m=()=>{const c=s.flatMap(x=>x.tags||[]);return Array.from(new Set(c.filter(x=>x&&typeof x=="string")))};return a?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Product Catalog"}),e.jsx("p",{className:"text-gray-600",children:"Discover our amazing collection of products"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ge,{value:d,onChange:p,placeholder:"Search products..."}),e.jsx(fe,{tags:m(),selectedTag:l,onTagChange:u}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),e.jsxs("select",{value:h,onChange:c=>y(c.target.value),className:"input-field",children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})]})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",r.length," of ",s.length," products",l&&` in "${l}"`]})}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(c=>e.jsx(z,{product:c,onAddToCart:()=>b(c)},c.id))})]})}function je(){const{id:s}=H(),[t,r]=g.useState(null),[i,a]=g.useState([]),[n,d]=g.useState(!0),p=D(h=>h.add);g.useEffect(()=>{s&&l(s)},[s]);const l=async h=>{try{d(!0);const[y,b]=await Promise.all([ne(h),A()]);if(y){r(y);const j=b.filter(v=>v.id!==h&&v.tags.some(m=>y.tags.includes(m))).slice(0,3);a(j)}}catch(y){console.error("Failed to load product:",y)}finally{d(!1)}};if(n)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(!t)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"❌"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Product not found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The product you're looking for doesn't exist."}),e.jsx(S,{to:"/",className:"btn-primary",children:"Back to Catalog"})]});const u=t.stockQty===0;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("nav",{className:"text-sm",children:[e.jsx(S,{to:"/",className:"text-primary-600 hover:text-primary-700",children:"Catalog"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-600",children:t.title})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-3xl font-bold text-primary-600 mb-4",children:k(t.price)}),e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${u?"bg-red-500":"bg-green-500"}`}),e.jsx("span",{className:`font-medium ${u?"text-red-600":"text-green-600"}`,children:u?"Out of Stock":`${t.stockQty} in Stock`})]})})]}),t.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(h=>e.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 text-sm rounded-full",children:h},h))})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>p(t),disabled:u,className:`w-full py-3 px-6 text-lg font-medium rounded-lg transition-colors ${u?"bg-gray-100 text-gray-400 cursor-not-allowed":"btn-primary"}`,children:u?"Out of Stock":"Add to Cart"})})]})]}),i.length>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(h=>e.jsx(z,{product:h,onAddToCart:()=>p(h)},h.id))})]})]})}function be(){const{items:s,setQty:t,remove:r,getTotal:i,getItemCount:a}=D(),n=Q(),d=i(),p=a();return s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🛒"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add some products to get started!"}),e.jsx(S,{to:"/",className:"btn-primary",children:"Continue Shopping"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),e.jsxs("span",{className:"text-gray-600",children:[p," item",p!==1?"s":""]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.map(l=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:l.product.image,alt:l.product.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(S,{to:`/p/${l.product.id}`,className:"text-lg font-semibold text-gray-900 hover:text-primary-600 transition-colors",children:l.product.title}),e.jsx("p",{className:"text-primary-600 font-semibold",children:k(l.product.price)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(l.id,l.qty-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors","aria-label":"Decrease quantity",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("span",{className:"w-8 text-center font-medium",children:l.qty}),e.jsx("button",{onClick:()=>t(l.id,l.qty+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors","aria-label":"Increase quantity",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:k(l.product.price*l.qty)})}),e.jsx("button",{onClick:()=>r(l.id),className:"text-red-600 hover:text-red-700 p-2 rounded-md hover:bg-red-50 transition-colors","aria-label":"Remove item",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},l.id))}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card sticky top-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"font-medium",children:k(d)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"font-medium text-green-600",children:"Free"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tax"}),e.jsx("span",{className:"font-medium",children:k(d*.08)})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),e.jsx("span",{className:"text-lg font-bold text-primary-600",children:k(d*1.08)})]})})]}),e.jsx("button",{onClick:()=>n("/checkout"),className:"w-full btn-primary",children:"Proceed to Checkout"}),e.jsx(S,{to:"/",className:"block w-full text-center mt-3 text-primary-600 hover:text-primary-700 font-medium",children:"Continue Shopping"})]})})]})]})}function ve(){const{items:s,getTotal:t,clear:r}=D(),i=Q(),[a,n]=L.useState(!1),[d,p]=L.useState(""),[l,u]=L.useState(null),[h,y]=L.useState(!1),[b,j]=L.useState(""),v=t(),m=v*.08,c=v+m,x=async()=>{if(!d){j("Please enter your email");return}y(!0),j("");try{const N=await le.lookupCustomer(d);u(N)}catch{j("Customer not found. Try: demouser@example.com")}finally{y(!1)}},o=()=>{p("demouser@example.com")},f=async()=>{if(s.length!==0){if(!l){j("Please identify yourself first");return}n(!0);try{const N={customerId:l._id,customerEmail:l.email,items:s.map(T=>({id:T.id,qty:T.qty}))},E=await ie(N);r(),i(`/order/${E.orderId}`)}catch(N){console.error("Failed to place order:",N),alert("Failed to place order. Please try again.")}finally{n(!1)}}};return s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"🛒"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add some products to checkout!"}),e.jsx("button",{onClick:()=>i("/"),className:"btn-primary",children:"Continue Shopping"})]}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Checkout"}),e.jsx("p",{className:"text-gray-600",children:"Review your order and complete your purchase"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-4 mb-6",children:s.map(N=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:N.product.image,alt:N.product.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.product.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",N.qty]})]})]}),e.jsx("p",{className:"font-medium",children:k(N.product.price*N.qty)})]},N.id))}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{children:k(v)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tax (8%)"}),e.jsx("span",{children:k(m)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"text-green-600",children:"Free"})]}),e.jsx("div",{className:"border-t border-gray-200 pt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total"}),e.jsx("span",{className:"text-lg font-bold text-primary-600",children:k(c)})]})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Customer Information"}),l?e.jsx("div",{className:"space-y-4 mb-6",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800 mb-2",children:"Customer Identified"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"Name:"})," ",l.name]}),e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"Email:"})," ",l.email]}),l.address&&e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"Address:"})," ",l.address]})]}),e.jsx("button",{onClick:()=>{u(null),p("")},className:"mt-3 text-sm text-green-600 hover:text-green-800 underline",children:"Use different account"})]})}):e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:d,onChange:N=>p(N.target.value),className:"input-field w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:h})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-sm",children:b}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:x,disabled:h,className:"flex-1 py-2 px-4 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:h?"Looking up...":"Continue"}),e.jsx("button",{onClick:o,className:"py-2 px-4 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"Use Demo Account"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Test Account:"})," demouser@example.com"]})})]}),e.jsx("hr",{className:"my-6"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payment Information"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),e.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"input-field",disabled:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),e.jsx("input",{type:"text",placeholder:"MM/YY",className:"input-field",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",placeholder:"123",className:"input-field",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name on Card"}),e.jsx("input",{type:"text",placeholder:"John Doe",className:"input-field",disabled:!0})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Demo Checkout"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:'This is a demo checkout. No real payment will be processed. Click "Place Order" to create a test order.'})]})]})}),e.jsx("button",{onClick:f,disabled:a||!l,className:`w-full py-3 px-6 text-lg font-medium rounded-lg transition-colors ${a||!l?"bg-gray-100 text-gray-400 cursor-not-allowed":"btn-primary bg-primary-600 text-white hover:bg-primary-700"}`,children:l?a?"Processing...":"Place Order":"Please identify yourself first"})]})]})]})}const W="https://shopmart-api.onrender.com";class Ne{constructor(t){_(this,"baseUrl");this.baseUrl=t}async request(t,r={}){const i=`${this.baseUrl}${t}`,a={...r,headers:{"Content-Type":"application/json",...r.headers}};try{const n=await fetch(i,a);if(!n.ok){const p=await n.json().catch(()=>({message:`HTTP Error ${n.status}`}));throw new Error(p.message||`Request failed: ${n.status}`)}const d=n.headers.get("content-type");return d&&d.includes("application/json")?await n.json():n}catch(n){throw console.error(`API Error [${t}]:`,n),n}}async get(t,r){const i=r?"?"+new URLSearchParams(r).toString():"";return this.request(t+i,{method:"GET"})}async post(t,r){return this.request(t,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(t,r){return this.request(t,{method:"PUT",body:r?JSON.stringify(r):void 0})}async delete(t){return this.request(t,{method:"DELETE"})}async patch(t,r){return this.request(t,{method:"PATCH",body:r?JSON.stringify(r):void 0})}}const w=new Ne(W),we={async getCustomerByEmail(s){return w.get("/api/customers",{email:s})},async getCustomer(s){return w.get(`/api/customers/${s}`)},async createCustomer(s){return w.post("/api/customers",s)},async getProducts(s){return w.get("/api/products",s)},async getProduct(s){return w.get(`/api/products/${s}`)},async createOrder(s){return w.post("/api/orders",s)},async getOrder(s){return w.get(`/api/orders/${s}`)},async getCustomerOrders(s){return w.get("/api/orders",{customerId:s})},async getDailyRevenue(s,t){return w.get("/api/analytics/daily-revenue",{from:s,to:t})},async getDashboardMetrics(){return w.get("/api/analytics/dashboard-metrics")},async getProductPerformance(){return w.get("/api/analytics/product-performance")},async getBusinessMetrics(){return w.get("/api/dashboard/business-metrics")},async getPerformance(){return w.get("/api/dashboard/performance")},async getAssistantStats(){return w.get("/api/dashboard/assistant-stats")},async getSystemHealth(){return w.get("/api/dashboard/system-health")},async sendChatMessage(s){return w.post("/api/assistant/chat",{message:s})},async getAssistantInfo(){return w.get("/api/assistant/info")}};function Se(s){const t=new EventSource(`${W}/api/orders/${s}/stream`);return{eventSource:t,onStatusUpdate(r){t.addEventListener("message",i=>{try{const a=JSON.parse(i.data);a.type==="status"&&r(a)}catch(a){console.error("SSE Parse Error:",a)}})},onComplete(r){t.addEventListener("message",i=>{try{const a=JSON.parse(i.data);a.type==="complete"&&(r(a),t.close())}catch(a){console.error("SSE Parse Error:",a)}})},onError(r){t.addEventListener("error",r)},close(){t.close()}}}function ke(){var m;const{id:s}=H(),[t,r]=g.useState(null),[i,a]=g.useState(!0),[n,d]=g.useState(null),[p,l]=g.useState(null);g.useEffect(()=>(s&&(u(s),h(s)),()=>{p&&p.close()}),[s]);const u=async c=>{try{a(!0);const x=await we.getOrder(c);x?r(x):d("Order not found")}catch{d("Failed to load order")}finally{a(!1)}},h=c=>{const x=Se(c);l(x),x.onStatusUpdate(o=>{r(f=>({...f,status:o.status,carrier:o.carrier,estimatedDelivery:o.estimatedDelivery}))}),x.onComplete(o=>{console.log("Order completed:",o)}),x.onError(o=>{console.error("SSE Error:",o),d("Lost connection to order tracking")})},y=c=>({PENDING:"bg-gray-100 text-gray-800",PROCESSING:"bg-yellow-100 text-yellow-800",SHIPPED:"bg-blue-100 text-blue-800",DELIVERED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[c]||"bg-gray-100 text-gray-800",b=c=>({PENDING:"⏳",PROCESSING:"⚙️",SHIPPED:"🚚",DELIVERED:"✅",CANCELLED:"❌"})[c]||"❓",j=()=>["PENDING","PROCESSING","SHIPPED","DELIVERED"];if(i)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});if(n||!t)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"❌"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:n||"The order you're looking for doesn't exist."}),e.jsx(S,{to:"/",className:"btn-primary",children:"Back to Catalog"})]});const v=j().indexOf(t.status);return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Tracking"}),e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-1"}),"Live"]})]}),e.jsx("p",{className:"text-gray-600",children:"Real-time order status updates"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Order #",((m=t.orderId)==null?void 0:m.slice(-8))||(s==null?void 0:s.slice(-8))]}),e.jsx("p",{className:"text-gray-600",children:t.customerName&&`Customer: ${t.customerName}`})]}),e.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${y(t.status)}`,children:[b(t.status)," ",t.status]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Progress"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-0.5 bg-gray-300"}),e.jsx("div",{className:"absolute left-4 top-8 w-0.5 bg-primary-600 transition-all duration-500",style:{height:`${Math.min(v*33,100)}%`}}),e.jsx("div",{className:"space-y-8",children:j().map((c,x)=>{const o=t.status===c,f=v>=x,N=v<x;return e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:`
                      w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium
                      transition-all duration-300 z-10 bg-white
                      ${f?"ring-4 ring-primary-100 bg-primary-600 text-white":N?"ring-2 ring-gray-200 bg-gray-100 text-gray-400":""}
                      ${o?"scale-110 animate-pulse":""}
                    `,children:f?"✓":x+1}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("div",{className:`font-medium text-lg ${o?"text-primary-600":f?"text-gray-900":"text-gray-400"}`,children:c.charAt(0)+c.slice(1).toLowerCase()}),o&&e.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[c==="PROCESSING"&&"Your order is being prepared",c==="SHIPPED"&&t.carrier&&e.jsxs("div",{children:[e.jsxs("p",{children:["Shipped via ",t.carrier]}),t.estimatedDelivery&&e.jsxs("p",{children:["Expected: ",new Date(t.estimatedDelivery).toLocaleDateString()]})]}),c==="DELIVERED"&&"Order has been delivered successfully",c==="PENDING"&&"Order received and awaiting processing"]})]}),f&&e.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]},c)})})]})]}),t.items&&t.items.length>0&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:t.items.map((c,x)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",c.quantity]})]}),e.jsxs("p",{className:"font-medium",children:["$",(c.price*c.quantity).toFixed(2)]})]},x))}),t.total&&e.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Total"}),e.jsxs("span",{className:"font-bold text-lg",children:["$",t.total.toFixed(2)]})]})]}),(t.carrier||t.estimatedDelivery)&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shipping Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.carrier&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Carrier"}),e.jsx("p",{className:"font-medium",children:t.carrier})]}),t.estimatedDelivery&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Estimated Delivery"}),e.jsx("p",{className:"font-medium",children:new Date(t.estimatedDelivery).toLocaleDateString()})]})]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(S,{to:"/",className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Continue Shopping"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"Refresh Status"})]})]})}function Ce(){var p,l,u,h,y,b,j,v;const[s,t]=g.useState(null),[r,i]=g.useState(!0),[a,n]=g.useState(null);g.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const[m,c,x,o]=await Promise.all([w.get("/api/analytics/dashboard-metrics"),w.get("/api/dashboard/business-metrics"),w.get("/api/dashboard/performance"),w.get("/api/dashboard/assistant-stats")]);t({totalRevenue:m.totalRevenue||0,totalOrders:m.totalOrders||0,totalCustomers:m.totalCustomers||0,averageOrderValue:m.averageOrderValue||0,recentOrders:m.recentOrders||[],topProducts:m.topProducts||[],performanceMetrics:x,assistantStats:o})}catch(m){console.error("Failed to load dashboard:",m),n("Failed to load dashboard data")}finally{i(!1)}};return r?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-red-800",children:a}),e.jsx("button",{onClick:d,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your store performance and analytics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(q,{title:"Total Revenue",value:`$${(s==null?void 0:s.totalRevenue.toLocaleString())||"0"}`,icon:"💰",color:"bg-green-500"}),e.jsx(q,{title:"Total Orders",value:(s==null?void 0:s.totalOrders)||"0",icon:"📦",color:"bg-blue-500"}),e.jsx(q,{title:"Total Customers",value:(s==null?void 0:s.totalCustomers)||"0",icon:"👥",color:"bg-purple-500"}),e.jsx(q,{title:"Avg Order Value",value:`$${(s==null?void 0:s.averageOrderValue.toFixed(2))||"0"}`,icon:"📊",color:"bg-orange-500"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Orders"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(p=s==null?void 0:s.recentOrders)==null?void 0:p.slice(0,5).map(m=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m._id.slice(-8)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.customerName}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",m.total.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m.status==="DELIVERED"?"bg-green-100 text-green-800":m.status==="SHIPPED"?"bg-blue-100 text-blue-800":m.status==="PROCESSING"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:m.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(m.createdAt).toLocaleDateString()})]},m._id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Top Products"}),e.jsx("div",{className:"space-y-3",children:(l=s==null?void 0:s.topProducts)==null?void 0:l.slice(0,5).map((m,c)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-lg font-semibold text-gray-600",children:["#",c+1]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:m.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Sold: ",m.soldCount," units"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",m.revenue.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Revenue"})]})]},m._id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"API Performance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Average Latency"}),e.jsxs("span",{className:"font-semibold",children:[((u=s==null?void 0:s.performanceMetrics)==null?void 0:u.averageLatency)||0,"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Requests"}),e.jsx("span",{className:"font-semibold",children:((h=s==null?void 0:s.performanceMetrics)==null?void 0:h.totalRequests)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Active SSE Connections"}),e.jsx("span",{className:"font-semibold",children:((y=s==null?void 0:s.performanceMetrics)==null?void 0:y.activeSSEConnections)||0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Assistant Statistics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Queries"}),e.jsx("span",{className:"font-semibold",children:((b=s==null?void 0:s.assistantStats)==null?void 0:b.totalQueries)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Response Time"}),e.jsxs("span",{className:"font-semibold",children:[((j=s==null?void 0:s.assistantStats)==null?void 0:j.avgResponseTime)||0,"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Function Calls"}),e.jsx("span",{className:"font-semibold",children:((v=s==null?void 0:s.assistantStats)==null?void 0:v.functionCalls)||0})]})]})]})]})]})}function q({title:s,value:t,icon:r,color:i}){return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:t})]}),e.jsx("div",{className:`${i} rounded-full p-3 text-white text-2xl`,children:r})]})})}const I="http://localhost:3001/api";function Pe(){const[s,t]=g.useState([]),[r,i]=g.useState(null),[a,n]=g.useState(!0),[d,p]=g.useState(!1),[l,u]=g.useState(null),[h,y]=g.useState({name:"",price:0,category:"electronics",stock:0,description:""});g.useEffect(()=>{b(),j()},[]);const b=async()=>{try{const f=await(await fetch(`${I}/products`)).json();t(f.products||f)}catch(o){console.error("Failed to load products:",o)}finally{n(!1)}},j=async()=>{try{const f=await(await fetch(`${I}/stats`)).json();i(f)}catch(o){console.error("Failed to load stats:",o)}},v=async o=>{o.preventDefault();const f=l?`${I}/products/${l._id}`:`${I}/products`,N=l?"PUT":"POST";try{(await fetch(f,{method:N,headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok&&(b(),j(),p(!1),u(null),y({name:"",price:0,category:"electronics",stock:0,description:""}))}catch(E){console.error("Failed to save product:",E)}},m=async o=>{if(confirm("Are you sure you want to delete this product?"))try{(await fetch(`${I}/products/${o}`,{method:"DELETE"})).ok&&(b(),j())}catch(f){console.error("Failed to delete product:",f)}},c=o=>{u(o),y(o),p(!0)},x=async()=>{if(confirm("⚠️ This will reset ALL data to defaults. Are you sure?"))try{(await fetch(`${I}/admin/reset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:"RESET_ALL_DATA"})})).ok&&(b(),j(),alert("✅ Data reset to defaults"))}catch(o){console.error("Failed to reset data:",o)}};return a?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Administration"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your products and view statistics"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"🔄 Reset All Data"}),e.jsx("button",{onClick:()=>{p(!0),u(null),y({name:"",price:0,category:"electronics",stock:0,description:""})},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"➕ Add Product"})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"📦 Products"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total:"}),e.jsx("span",{className:"font-bold",children:r.products.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Low Stock:"}),e.jsx("span",{className:"font-bold text-red-600",children:r.products.lowStock})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"By Category:"}),Object.entries(r.products.byCategory).map(([o,f])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"capitalize",children:[o,":"]}),e.jsx("span",{children:f})]},o))]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"👥 Customers"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total:"}),e.jsx("span",{className:"font-bold",children:r.customers.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"New This Week:"}),e.jsx("span",{className:"font-bold text-green-600",children:r.customers.newThisWeek})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"📊 Orders"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total:"}),e.jsx("span",{className:"font-bold",children:r.orders.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Revenue:"}),e.jsx("span",{className:"font-bold text-green-600",children:k(r.orders.revenue)})]}),Object.entries(r.orders.byStatus||{}).length>0&&e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"By Status:"}),Object.entries(r.orders.byStatus).map(([o,f])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[o,":"]}),e.jsx("span",{children:f})]},o))]})]})]})]}),d&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:l?"Edit Product":"Add New Product"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),e.jsx("input",{type:"text",value:h.name,onChange:o=>y({...h,name:o.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),e.jsx("input",{type:"number",step:"0.01",value:h.price,onChange:o=>y({...h,price:parseFloat(o.target.value)}),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:h.category,onChange:o=>y({...h,category:o.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"electronics",children:"Electronics"}),e.jsx("option",{value:"home",children:"Home"}),e.jsx("option",{value:"apparel",children:"Apparel"}),e.jsx("option",{value:"accessories",children:"Accessories"}),e.jsx("option",{value:"books",children:"Books"}),e.jsx("option",{value:"sports",children:"Sports"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),e.jsx("input",{type:"number",value:h.stock,onChange:o=>y({...h,stock:parseInt(o.target.value)}),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:h.description,onChange:o=>y({...h,description:o.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:[l?"Update":"Create"," Product"]}),e.jsx("button",{type:"button",onClick:()=>{p(!1),u(null)},className:"px-6 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 transition",children:"Cancel"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(o=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name}),e.jsx("div",{className:"text-sm text-gray-500",children:o.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:o.category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k(o.price)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${o.stock<10?"text-red-600":"text-green-600"}`,children:o.stock})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>c(o),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>m(o._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},o._id))})]})})]})}function Ee(){const[s,t]=g.useState([]),[r,i]=g.useState(!0),a=D(l=>l.add);g.useEffect(()=>{n()},[]);const n=async()=>{try{const l=await A();t(l.slice(0,8))}catch(l){console.error("Failed to load products:",l)}finally{i(!1)}},d=[{icon:"🚚",title:"Free Shipping",desc:"On orders over $50"},{icon:"🔒",title:"Secure Payment",desc:"100% secure transactions"},{icon:"↩️",title:"Easy Returns",desc:"30-day return policy"},{icon:"💬",title:"24/7 Support",desc:"Chat with Alex anytime"}],p=[{name:"Electronics",icon:"💻",color:"bg-blue-500"},{name:"Home",icon:"🏠",color:"bg-green-500"},{name:"Apparel",icon:"👕",color:"bg-purple-500"},{name:"Accessories",icon:"👜",color:"bg-pink-500"}];return e.jsxs("div",{className:"space-y-12",children:[e.jsxs("section",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsx("div",{className:"relative px-8 py-16 lg:py-24",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl lg:text-6xl font-bold mb-6 animate-fade-in",children:"Welcome to ShopSmart"}),e.jsx("p",{className:"text-xl lg:text-2xl mb-8 opacity-90",children:"Discover amazing products at unbeatable prices"}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[e.jsx(S,{to:"/catalog",className:"px-8 py-3 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition transform hover:scale-105",children:"Shop Now →"}),e.jsx(S,{to:"/admin/products",className:"px-8 py-3 bg-transparent border-2 border-white text-white rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition",children:"Manage Products"})]})]})}),e.jsx("div",{className:"absolute top-10 right-10 w-20 h-20 bg-white opacity-10 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute bottom-10 left-10 w-32 h-32 bg-white opacity-10 rounded-full animate-bounce"})]}),e.jsx("section",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((l,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-6 text-center hover:shadow-xl transition-shadow cursor-pointer transform hover:-translate-y-1",children:[e.jsx("div",{className:"text-4xl mb-3",children:l.icon}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:l.title}),e.jsx("p",{className:"text-sm text-gray-600",children:l.desc})]},u))}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Shop by Category"}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((l,u)=>e.jsx(S,{to:`/catalog?category=${l.name.toLowerCase()}`,className:"group",children:e.jsxs("div",{className:`${l.color} rounded-lg p-8 text-white text-center hover:shadow-xl transition-all transform group-hover:scale-105`,children:[e.jsx("div",{className:"text-5xl mb-4",children:l.icon}),e.jsx("h3",{className:"font-semibold text-lg",children:l.name})]})},u))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Featured Products"}),e.jsx(S,{to:"/catalog",className:"text-blue-600 hover:text-blue-700 font-medium",children:"View All →"})]}),r?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(l=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all group",children:[e.jsx(S,{to:`/p/${l.id}`,children:e.jsx("div",{className:"aspect-w-1 aspect-h-1 bg-gray-200 rounded-t-lg overflow-hidden",children:e.jsx("img",{src:l.image||"/placeholder.jpg",alt:l.title,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-1",children:l.title}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xl font-bold text-blue-600",children:k(l.price)}),e.jsx("button",{onClick:()=>a(l),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition",children:"Add to Cart"})]})]})]},l.id))})]}),e.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl p-8 lg:p-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Stay Updated!"}),e.jsx("p",{className:"mb-6 opacity-90",children:"Subscribe to get special offers, free giveaways, and amazing deals!"}),e.jsxs("form",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Your email address",className:"flex-1 px-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white"}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100 transition",children:"Subscribe"})]})]})}),e.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-600",children:"Happy Customers"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"5K+"}),e.jsx("div",{className:"text-gray-600",children:"Products"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"50+"}),e.jsx("div",{className:"text-gray-600",children:"Brands"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-pink-600 mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-600",children:"Support"})]})]})]})}const Ie=[{qid:"Q01",category:"Returns",question:"What is your returns policy?",answer:"You can return items within 30 days with the receipt. See returns page for details."},{qid:"Q02",category:"Shipping",question:"How long does shipping take?",answer:"Standard shipping takes 3-5 business days. Express shipping is available for 1-2 days."},{qid:"Q03",category:"Warranty",question:"Do products have warranty?",answer:"Most electronics have a 1-year limited warranty. Check product details for specific warranty information."},{qid:"Q04",category:"Payment",question:"What payment methods are accepted?",answer:"We accept major credit cards (Visa, MasterCard, American Express) and PayPal."},{qid:"Q05",category:"Orders",question:"Can I cancel my order?",answer:"Orders can be cancelled within 1 hour of placement if not packed yet. Contact support for assistance."},{qid:"Q06",category:"Products",question:"Do you ship internationally?",answer:"We ship to selected countries. Check shipping options at checkout for availability."},{qid:"Q07",category:"Support",question:"How do I contact support?",answer:"Use the Ask Support panel on any page or email support@storefront.com for assistance."},{qid:"Q08",category:"Discounts",question:"Do you offer student discounts?",answer:"Student discounts are available occasionally. Subscribe to our newsletter for special offers."},{qid:"Q09",category:"Stock",question:"Is item X in stock?",answer:"Stock levels are shown on each product page. You can sign up for restock notifications."},{qid:"Q10",category:"Sizing",question:"How do I choose the right size?",answer:"See the product's sizing guide on its page. Contact support if you need help with sizing."},{qid:"Q11",category:"Returns",question:"How do I start a return?",answer:"Open a support request with your order ID and reason for return. We'll provide return instructions."},{qid:"Q12",category:"Orders",question:"Where is my order?",answer:"Provide your order ID and we'll check the status. You can paste your order ID here for quick lookup."},{qid:"Q13",category:"Technical",question:"How to pair the headphones?",answer:"Enable Bluetooth on your device and hold the power button for 5 seconds to enter pairing mode."},{qid:"Q14",category:"Warranty",question:"How do I claim warranty?",answer:"Contact support with proof of purchase and serial number. We'll guide you through the warranty process."},{qid:"Q15",category:"Shipping",question:"Do you offer express shipping?",answer:"Yes, express shipping (1-2 days) is available at checkout for an additional fee."},{qid:"Q16",category:"Products",question:"Are products authentic?",answer:"Yes, we sell only authentic, brand-new items from authorized suppliers and distributors."},{qid:"Q17",category:"Privacy",question:"How is my data used?",answer:"We keep minimal data to process orders and improve service. See our privacy policy for details."},{qid:"Q18",category:"Account",question:"How do I reset my password?",answer:"Use the 'forgot password' link on the sign-in page or contact support for assistance."},{qid:"Q19",category:"Returns",question:"Are shipping costs refundable?",answer:"Return shipping costs are refundable under certain conditions. See our returns policy for details."},{qid:"Q20",category:"Orders",question:"What do the order statuses mean?",answer:"Placed: Order received. Packed: Being prepared. Shipped: On the way with tracking. Delivered: Received."}];function M(s){return s.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(Boolean)}async function Le(s){const t=s.trim();if(!t)return{refused:!0};const r=t.match(/([A-Z0-9]{10,})/i);if(r){const n=r[1],d=await oe(n);return d?{answer:`Order ${"*".repeat(n.length-4)+n.slice(-4)} status: ${d.status}.${d.carrier?` Carrier: ${d.carrier}.`:""}${d.eta?` ETA: ${new Date(d.eta).toLocaleDateString()}.`:""}`,refused:!1}:{refused:!0}}const i=M(t);let a=null;for(const n of Ie){const d=M(n.question),p=d.filter(u=>i.includes(u)).length,l=d.length>0?p/d.length:0;(!a||l>a.score)&&(a={qid:n.qid,score:l,answer:n.answer})}return!a||a.score<.25?{refused:!0}:{answer:`${a.answer} [${a.qid}]`,qid:a.qid,refused:!1}}function Oe(s){const t=g.useRef(null);return g.useEffect(()=>{if(!s||!t.current)return;const i=t.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=i[0],n=i[i.length-1],d=l=>{l.key==="Tab"&&(l.shiftKey?document.activeElement===a&&(n==null||n.focus(),l.preventDefault()):document.activeElement===n&&(a==null||a.focus(),l.preventDefault()))},p=l=>{l.key==="Escape"&&l.preventDefault()};return a==null||a.focus(),document.addEventListener("keydown",d),document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keydown",p)}},[s]),t}function De(){const[s,t]=g.useState(!1),[r,i]=g.useState(""),[a,n]=g.useState(""),[d,p]=g.useState(!1),l=Oe(s),u=async b=>{if(b.preventDefault(),!!r.trim()){p(!0);try{const j=await Le(r);j.refused?n("I can only help with order status and general store policies. Please contact support@storefront.com for other inquiries."):n(j.answer||"No response available")}catch{n("Sorry, I encountered an error. Please try again or contact support@storefront.com")}finally{p(!1)}}},h=()=>{t(!1),i(""),n("")},y=b=>{b.key==="Escape"&&h()};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 z-40 group","aria-label":"Open support panel",children:[e.jsx("svg",{className:"w-6 h-6 transition-transform duration-300 group-hover:rotate-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 animate-ping opacity-20"})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-4 animate-fadeIn",onKeyDown:y,children:e.jsxs("div",{ref:l,className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[80vh] flex flex-col transform animate-slideUp",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Support"}),e.jsx("p",{className:"text-sm text-gray-600",children:"How can I help you?"})]})]}),e.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-full","aria-label":"Close support panel",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[a&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-4 animate-fadeIn",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800 mb-2",children:"AI Response"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap leading-relaxed",children:a})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"How to use:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-2",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Ask about store policies (returns, shipping, etc.)"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Check order status by entering your order ID"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Get help with product information"})]})]})]})]})})]}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:r,onChange:b=>i(b.target.value),placeholder:"Ask a question or enter your order ID...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none transition-all duration-200 bg-white",rows:3,disabled:d}),d&&e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:h,className:"px-6 py-2.5 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded-lg transition-all duration-200 font-medium",disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!r.trim()||d,className:`px-6 py-2.5 rounded-lg font-medium transition-all duration-200 ${!r.trim()||d?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105"}`,children:d?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Send"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]})]})})]})})]})}function qe(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(S,{to:"/",className:"flex items-center",children:e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"ShopSmart"})}),e.jsxs("nav",{className:"hidden md:flex space-x-4",children:[e.jsx(S,{to:"/",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Home"}),e.jsx(S,{to:"/catalog",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Catalog"}),e.jsx(S,{to:"/cart",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Cart"}),e.jsx(S,{to:"/admin",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Admin"}),e.jsx(S,{to:"/admin/products",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Products"})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(K,{children:[e.jsx(C,{path:"/",element:e.jsx(Ee,{})}),e.jsx(C,{path:"/catalog",element:e.jsx(ye,{})}),e.jsx(C,{path:"/p/:id",element:e.jsx(je,{})}),e.jsx(C,{path:"/cart",element:e.jsx(be,{})}),e.jsx(C,{path:"/checkout",element:e.jsx(ve,{})}),e.jsx(C,{path:"/order/:id",element:e.jsx(ke,{})}),e.jsx(C,{path:"/admin",element:e.jsx(Ce,{})}),e.jsx(C,{path:"/admin/products",element:e.jsx(Pe,{})})]})}),e.jsx(De,{})]})}R.createRoot(document.getElementById("root")).render(e.jsx(L.StrictMode,{children:e.jsx(V,{children:e.jsx(qe,{})})}));
